<div class="character-container">

  <div class="search-container">
    <input 
      placeholder="Buscar personajes..."
      [(ngModel)]="searchTerm"
      (keyup)="onSearchKeyup($event)"
      /> <!-- Enlazar a searchTerm con [(ngModel)] y llamar a onSearchKeyup($event) en (keyup) -->
    
    <button (click)="onSearch()">Buscar</button> <!-- Enlazar (click) a onSearch() -->
  </div>

  <!-- Estado de carga -->
  <ng-container *ngIf="loading">
    <div class="loading-state">
      <p>Cargando personajes...</p>
    </div>
  </ng-container>
  
  <!-- Mensaje de error -->
  <ng-container *ngIf="errorMessage">
    <div class="error-state">
      <p>{{ errorMessage }}</p>
    </div>
  </ng-container>

  <!-- Cuadrícula de personajes: solo si no está cargando y hay personajes -->
  <ng-container *ngIf="!loading && hasCharacters()">
    <div class="character-grid">
      <div 
        class="character-card" 
        *ngFor="let character of characters(); trackBy: trackById"
      >
        <img 
          [src]="character.image" 
          [alt]="character.name" 
          class="character-image" 
        />
        <div class="character-info">
          <h3>{{ character.name }}</h3>
          <p>Status: {{ character.status }}</p>
          <p>Species: {{ character.species }}</p>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Estado vacío: no carga, sin error, sin personajes -->
  <ng-container *ngIf="!loading && !errorMessage && !hasCharacters()">
    <div class="empty-state">
      <p>No se encontraron personajes con ese término de búsqueda.</p>
    </div>
  </ng-container>
  
</div>